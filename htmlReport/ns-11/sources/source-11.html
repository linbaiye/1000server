


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > ItemSdbImpl</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.y1000.item</a>
</div>

<h1>Coverage Summary for Class: ItemSdbImpl (org.y1000.item)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">ItemSdbImpl</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    67.9%
  </span>
  <span class="absValue">
    (19/28)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    55.8%
  </span>
  <span class="absValue">
    (24/43)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.y1000.item;
&nbsp;
&nbsp;import lombok.extern.slf4j.Slf4j;
&nbsp;import org.apache.commons.lang3.StringUtils;
&nbsp;import org.y1000.kungfu.attack.AttackKungFuType;
&nbsp;import org.y1000.sdb.AbstractSdbReader;
&nbsp;
&nbsp;import java.util.Set;
&nbsp;
<b class="fc">&nbsp;@Slf4j</b>
<b class="fc">&nbsp;public final class ItemSdbImpl extends AbstractSdbReader implements ItemSdb {</b>
&nbsp;
&nbsp;    // &quot;Name,ViewName,Kind,Desc,Grade,QuestNum,NeedItem,NotHaveItem,DelItem,AddItem,boDouble,boColoring,Shape,WearPos,WearShape,ActionImage,HitMotion,HitType,Color,Sex,Weight,NeedGrade,Price,BuyPrice,RepairPrice,ServerId,X,Y,SoundEvent,SoundDrop,boPower,AttackSpeed,Recovery,LongAvoid,Avoid,LongAccuracy,Accuracy,KeepRecovery,DamageBody,DamageHead,DamageArm,DamageLeg,ArmorBody,ArmorHead,ArmorArm,ArmorLeg,RandomCount,NameParam1,NameParam2,Material,JobKind,boUpgrade,MaxUpgrade,boTalentExp,boDurability,Durability,DecDelay,DecSize,Abrasion,ToolConst,SuccessRate,boNotTrade,boNotExchange,boNotDrop,boNotSkill,boNotSSamzie,cLife,Attribute,SpecialKind,RoleType,Script,MaxCount,BoNotSave,ExtJobExp&quot;
&nbsp;    /*
&nbsp;    Name,                名称
&nbsp;ViewName,        显示名称
&nbsp;Kind,                类型
&nbsp;
&nbsp;Desc,                文字注释
&nbsp;
&nbsp;Grade,                品别
&nbsp;
&nbsp;QuestNum,        #寻求号码
&nbsp;
&nbsp;NeedItem,        需要该物品才能拾取改物品
&nbsp;
&nbsp;NotHaveItem,        拥有该物品时将无法拾取的物品
&nbsp;
&nbsp;DelItem,        #删除物品
&nbsp;
&nbsp;AddItem,        #添加物品
&nbsp;
&nbsp;boDouble,        是否重叠；“TRUE”=是，“FALSE”=否，
&nbsp;
&nbsp;boColoring,        是否能染色；不知有啥用，默认“FALSE”
&nbsp;
&nbsp;Shape,                外形
&nbsp;
&nbsp;WearPos,        装备的部位；9=武器，8=帽子，7=头发，6=衣服，4=裤裙，3=鞋子，2=上衣，1=护腕
&nbsp;
&nbsp;WearShape,        装备的显示样式；添代码
&nbsp;
&nbsp;ActionImage,        使用的样式；动态图片；
&nbsp;
&nbsp;HitMotion,        攻击时的动作；拳头=0，刀/剑/投=2，枪/槌/矿=3，弓=4
&nbsp;
&nbsp;HitType,        攻击类型，指装备该物品后使用武功；拳法=0，剑法=1，刀法=2，棰法=3，枪法=4，弓术=5，投法=6，采矿=7
&nbsp;
&nbsp;Color,                颜色；
&nbsp;
&nbsp;Sex,                性别；男=1，女=2
&nbsp;
&nbsp;Weight,                重量；武器/装备=1，书籍/药品/其他=不填
&nbsp;
&nbsp;NeedGrade,        需要等级；如何设置不清楚，掌和招式=6 灵动=6 风灵=7
&nbsp;
&nbsp;Price,                价钱；
&nbsp;
&nbsp;BuyPrice,        卖给NPC的价钱；
&nbsp;
&nbsp;RepairPrice,        维修需要的价钱
&nbsp;
&nbsp;ServerId,        #在这里不知道啥用，默认=空白
&nbsp;
&nbsp;X,Y,                #在这里不知道啥用，默认=空白
&nbsp;
&nbsp;SoundEvent,        得到的声音
&nbsp;
&nbsp;SoundDrop,        掉落的声音
&nbsp;
&nbsp;boPower,        是否拥有能力值；“TRUE”=是，空白或“FALSE”=否
&nbsp;
&nbsp;AttackSpeed,        攻击速度；
&nbsp;
&nbsp;Recovery,        恢复；
&nbsp;
&nbsp;LongAvoid,        远距离躲闪；
&nbsp;
&nbsp;Avoid,                躲闪；
&nbsp;
&nbsp;您已评论，请查看如下隐藏内容哦！
&nbsp;
&nbsp;LongAccuracy,        远距离命中；
&nbsp;
&nbsp;Accuracy,        命中；
&nbsp;
&nbsp;KeepRecovery,        维持；
&nbsp;
&nbsp;DamageBody,        身体攻击；
&nbsp;
&nbsp;DamageHead,        头部攻击；
&nbsp;
&nbsp;DamageArm,        手部攻击；
&nbsp;
&nbsp;DamageLeg,        脚部攻击；
&nbsp;
&nbsp;ArmorBody,        身体防御；
&nbsp;
&nbsp;ArmorHead,        头部防御；
&nbsp;
&nbsp;ArmorArm,        手部防御；
&nbsp;
&nbsp;ArmorLeg,        脚部防御；
&nbsp;
&nbsp;RandomCount,        随机数字；不详
&nbsp;
&nbsp;NameParam1,        不详；
&nbsp;
&nbsp;NameParam2,        不详；
&nbsp;
&nbsp;Material,        所需材料；制造此物品所需要的材料
&nbsp;
&nbsp;JobKind,        制造的职业；空=所有职业，99=NPC，1=铸造，2=炼丹，3=裁缝，4=工匠
&nbsp;
&nbsp;boUpgrade,        是否能升级；“TRUE”=是，“FALSE”=否
&nbsp;
&nbsp;MaxUpgrade,        升级的最高级别；
&nbsp;
&nbsp;boTalentExp,        是否需要才能；“TRUE”=是，“FALSE”或空白=否
&nbsp;
&nbsp;boDurability,        是否有耐久；“TRUE”=是，“FALSE”或空白=否
&nbsp;
&nbsp;Durability,        耐久度；
&nbsp;
&nbsp;DecDelay,        磨损的周期；单位：毫秒
&nbsp;
&nbsp;DecSize,        每个磨损周期的单位；即每次磨损几点耐久
&nbsp;
&nbsp;Abrasion,        维修后的磨损；指每次维修后就会降低物品的最大耐久度
&nbsp;
&nbsp;ToolConst,        维修费用；
&nbsp;
&nbsp;SuccessRate,        增加成功率；精华素+20，草芥+40，生死+60
&nbsp;
&nbsp;boNotTrade,        是否无法买卖；“TRUE”=无法交易，“FALSE”或空白=可以交易
&nbsp;
&nbsp;boNotExchange,        是否无法交易；
&nbsp;
&nbsp;boNotDrop,        是否不能丢在地上；
&nbsp;
&nbsp;boNotSkill,        是否不能放进技能窗；
&nbsp;
&nbsp;boNotSSamzie,        是否不能放进福袋；
&nbsp;
&nbsp;cLife,                增加活力；1000 = 10活力
&nbsp;
&nbsp;Attribute,        特征；1=本馆不掉血，3=沙漠不掉血，4=五色药水，5=英雄装备，6=招式，199=能用太极牌
&nbsp;
&nbsp;SpecialKind,        特殊类型；1=灵符，2=镏金，3=卷轴，4=基本武器，5=王陵3任务物品，6=技能药品，7=+活力，9=百炼
&nbsp;
&nbsp;RoleType,        任务类型；不详
&nbsp;
&nbsp;Script,                脚本；
&nbsp;
&nbsp;MaxCount,        最多持有数量；
&nbsp;     */
&nbsp;
&nbsp;    private static final String ITEM_TYPE = &quot;Kind&quot;;
&nbsp;
&nbsp;    @Override
&nbsp;    public EquipmentType getEquipmentType(String itemName) {
<b class="fc">&nbsp;        return getEnum(itemName, &quot;WearPos&quot;, EquipmentType::fromValue);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public AttackKungFuType getAttackKungFuType(String item) {
<b class="nc">&nbsp;        return getEnum(item, &quot;HitType&quot;, AttackKungFuType::fromValue);</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    public int getTypeValue(String name) {
<b class="fc">&nbsp;        return getInt(name, ITEM_TYPE);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean canStack(String itemName) {
<b class="fc">&nbsp;        String s = get(itemName, &quot;boDouble&quot;);</b>
<b class="fc">&nbsp;        return &quot;TRUE&quot;.equals(s);</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isMale(String itemName) {
<b class="fc">&nbsp;        String s = get(itemName, &quot;Sex&quot;);</b>
<b class="fc">&nbsp;        return &quot;1&quot;.equals(s);</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getDesc(String itemName) {
<b class="fc">&nbsp;        return get(itemName, &quot;Desc&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int getAvoid(String itemName) {
<b class="nc">&nbsp;        return getIntOrZero(itemName, &quot;Avoid&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int getAttackSpeed(String itemName) {
<b class="nc">&nbsp;        return getIntOrZero(itemName, &quot;AttackSpeed&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public ItemType getType(String itemName) {
<b class="fc">&nbsp;        return getEnum(itemName, ITEM_TYPE, ItemType::fromValue);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String getSoundEvent(String itemName) {
<b class="fc">&nbsp;        return getOrNull(itemName, &quot;SoundEvent&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String getSoundDrop(String itemName) {
<b class="fc">&nbsp;        return getOrNull(itemName, &quot;SoundDrop&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int getPrice(String itemName) {
<b class="nc">&nbsp;        return getInt(itemName, &quot;Price&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int getBuyPrice(String itemName) {
<b class="nc">&nbsp;        return getInt(itemName, &quot;Price&quot;);</b>
&nbsp;    }
&nbsp;    public int getRecovery(String name) {
<b class="nc">&nbsp;        return getIntOrZero(name, &quot;Recovery&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getAvoidance(String name) {
<b class="nc">&nbsp;        return getIntOrZero(name, &quot;Avoid&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getAccuracy(String name) {
<b class="nc">&nbsp;        return getInt(name, &quot;accuracy&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getDamageBody(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;DamageBody&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getDamageHead(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;DamageHead&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getDamageArm(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;DamageArm&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getDamageLeg(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;DamageLeg&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    public int getArmorBody(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;ArmorBody&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getArmorHead(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;ArmorHead&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getArmorArm(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;ArmorArm&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getArmorLeg(String name) {
<b class="fc">&nbsp;        return getIntOrZero(name, &quot;ArmorLeg&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;
<b class="fc">&nbsp;    public static final ItemSdbImpl INSTANCE = read();</b>
&nbsp;
&nbsp;    private static ItemSdbImpl read() {
<b class="fc">&nbsp;        ItemSdbImpl itemSdb = new ItemSdbImpl();</b>
<b class="fc">&nbsp;        itemSdb.read(&quot;Item.sdb&quot;);</b>
<b class="fc">&nbsp;        return itemSdb;</b>
&nbsp;    }
&nbsp;    public static void main(String[] args) {
<b class="nc">&nbsp;        ItemSdbImpl itemSdb = ItemSdbImpl.INSTANCE;</b>
&nbsp;//        Set&lt;String&gt; names = itemSdb.names();
<b class="nc">&nbsp;        Set&lt;String&gt; names = itemSdb.columnNames();</b>
<b class="nc">&nbsp;        Set&lt;String&gt; items = itemSdb.names();</b>
<b class="nc">&nbsp;        for (String i: items) {</b>
<b class="nc">&nbsp;            System.out.println(&quot;----------------------------&quot;);</b>
<b class="nc">&nbsp;            System.out.println(i);</b>
<b class="nc">&nbsp;            for (String name : names) {</b>
<b class="nc">&nbsp;                if (!StringUtils.isEmpty(itemSdb.get(i, name)))</b>
<b class="nc">&nbsp;                    System.out.println(name + &quot;: &quot; + itemSdb.get(i, name));</b>
<b class="nc">&nbsp;            }</b>
&nbsp;            //String v = itemSdb.get(&quot;生药&quot;, name);
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-07-18 11:06</div>
</div>
</body>
</html>
